import{get as t,GLOBAL as o,set as r,remove as e}from"@analytics/global-storage-utils";export{GLOBAL,globalContext}from"@analytics/global-storage-utils";import{hasCookies as a,COOKIE as l,getCookie as i,setCookie as n,removeCookie as u}from"@analytics/cookie-utils";export{COOKIE,getCookie,hasCookies,removeCookie,setCookie}from"@analytics/cookie-utils";import{hasLocalStorage as c,LOCAL_STORAGE as s}from"@analytics/localstorage-utils";export{LOCAL_STORAGE,hasLocalStorage}from"@analytics/localstorage-utils";import{isObject as f,ANY as g,ALL as m,isUndefined as p,isString as v}from"@analytics/type-utils";export{ALL,ANY}from"@analytics/type-utils";function y(t){var o=t;try{if("true"===(o=JSON.parse(t)))return!0;if("false"===o)return!1;if(f(o))return o;parseFloat(o)===o&&(o=parseFloat(o))}catch(t){}if(null!==o&&""!==o)return o}var S=c(),k=a();function I(o,r){if(o){var e=L(r),a=!A(e),l=O(e)?y(localStorage.getItem(o)):void 0;if(a&&!p(l))return l;var n=b(e)?y(i(o)):void 0;if(a&&n)return n;var u=t(o);return a?u:{localStorage:l,cookie:n,global:u}}}function x(e,a,u){if(e&&!p(a)){var c={},f=L(u),g=JSON.stringify(a),m=!A(f);return O(f)&&(c[s]=h(s,a,y(localStorage.getItem(e))),localStorage.setItem(e,g),m)?c[s]:b(f)&&(c[l]=h(l,a,y(i(e))),n(e,g),m)?c[l]:(c[o]=h(o,a,t(e)),r(e,a),m?c[o]:c)}}function C(t,r){if(t){var a=L(r),i=I(t,m),n={};return!p(i.localStorage)&&O(a)&&(localStorage.removeItem(t),n[s]=i.localStorage),!p(i.cookie)&&b(a)&&(u(t),n[l]=i.cookie),!p(i.global)&&d(a,o)&&(e(t),n[o]=i.global),n}}function L(t){return t?v(t)?t:t.storage:g}function O(t){return S&&d(t,s)}function b(t){return k&&d(t,l)}function A(t){return t===m||"all"===t}function d(t,o){return t===g||t===o||A(t)}function h(t,o,r){return{location:t,current:o,previous:r}}var N={setItem:x,getItem:I,removeItem:C};export default N;export{I as getItem,C as removeItem,x as setItem};
//# sourceMappingURL=analytics-util-storage.module.js.map
