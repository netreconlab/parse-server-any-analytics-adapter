var utilStorage=function(e){var t="global",o="undefined",n="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||void 0;function r(e){return n[e]}function a(e,t){return n[e]=t,t}function i(e){a(e)}var l="cookie",u=d(),f=s,c=s;function g(e){return u?s(e,"",-1):i(e)}function d(){if(typeof u!==o)return u;try{s("__x","__x"),u=-1!==document.cookie.indexOf("__x"),g("__x")}catch(e){u=!1}return u}function s(e,t,n,i,l,f){if(typeof window!==o){var c=arguments.length>1;return u||(c?a(e,t):r(e)),c?document.cookie=e+"="+encodeURIComponent(t)+(n?"; expires="+new Date(+new Date+1e3*n).toUTCString()+(i?"; path="+i:"")+(l?"; domain="+l:"")+(f?"; secure":""):""):decodeURIComponent((("; "+document.cookie).split("; "+e+"=")[1]||"").split(";")[0])}}var v="localStorage",p=m();function m(){if(typeof p!==o)return p;p=!0;try{typeof localStorage!==o&&typeof JSON!==o||(p=!1),localStorage.setItem(o,o),localStorage.removeItem(o)}catch(e){p=!1}return p}var b="any";"undefined"==typeof process||process;var y="undefined"!=typeof window;function S(e,t){return typeof t===e}"undefined"!=typeof Deno&&Deno,y&&"nodejs"===window.name||"undefined"!=typeof navigator&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),S.bind(null,"function");var I=S.bind(null,"string"),O=S.bind(null,"undefined");function k(e){var t=e;try{if("true"===(t=JSON.parse(e)))return!0;if("false"===t)return!1;if(function(e){if(!function(e){return e&&("object"==typeof e||null!==e)}(e))return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(t))return t;parseFloat(t)===t&&(t=parseFloat(t))}catch(e){}if(null!==t&&""!==t)return t}S.bind(null,"boolean");var C=m(),j=d();function _(e,t){if(e){var o=x(t),n=!N(o),a=A(o)?k(localStorage.getItem(e)):void 0;if(n&&!O(a))return a;var i=L(o)?k(f(e)):void 0;if(n&&i)return i;var l=r(e);return n?l:{localStorage:a,cookie:i,global:l}}}function w(e,o,n){if(e&&!O(o)){var i={},u=x(n),g=JSON.stringify(o),d=!N(u);return A(u)&&(i[v]=J(v,o,k(localStorage.getItem(e))),localStorage.setItem(e,g),d)?i[v]:L(u)&&(i[l]=J(l,o,k(f(e))),c(e,g),d)?i[l]:(i[t]=J(t,o,r(e)),a(e,o),d?i[t]:i)}}function h(e,o){if(e){var n=x(o),r=_(e,"*"),a={};return!O(r.localStorage)&&A(n)&&(localStorage.removeItem(e),a[v]=r.localStorage),!O(r.cookie)&&L(n)&&(g(e),a[l]=r.cookie),!O(r.global)&&D(n,t)&&(i(e),a[t]=r.global),a}}function x(e){return e?I(e)?e:e.storage:b}function A(e){return C&&D(e,v)}function L(e){return j&&D(e,l)}function N(e){return"*"===e||"all"===e}function D(e,t){return e===b||e===t||N(e)}function J(e,t,o){return{location:e,current:t,previous:o}}var P={setItem:w,getItem:_,removeItem:h};return e.ALL="*",e.ANY=b,e.COOKIE=l,e.GLOBAL=t,e.LOCAL_STORAGE=v,e.default=P,e.getCookie=f,e.getItem=_,e.globalContext=n,e.hasCookies=d,e.hasLocalStorage=m,e.removeCookie=g,e.removeItem=h,e.setCookie=c,e.setItem=w,e}({});
//# sourceMappingURL=storage-utils.js.map
