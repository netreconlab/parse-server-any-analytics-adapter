import{get as t,GLOBAL as o,set as r,remove as e}from"@analytics/global-storage-utils";export{GLOBAL,globalContext}from"@analytics/global-storage-utils";import{hasCookies as a,COOKIE as l,getCookie as n,setCookie as i,removeCookie as c}from"@analytics/cookie-utils";export{COOKIE,getCookie,hasCookies,removeCookie,setCookie}from"@analytics/cookie-utils";import{hasLocalStorage as u,LOCAL_STORAGE as s}from"@analytics/localstorage-utils";export{LOCAL_STORAGE,hasLocalStorage}from"@analytics/localstorage-utils";import{isObject as f,ANY as g,ALL as m,isUndefined as p,isString as y}from"@analytics/type-utils";export{ALL,ANY}from"@analytics/type-utils";function S(t){let o=t;try{if(o=JSON.parse(t),"true"===o)return!0;if("false"===o)return!1;if(f(o))return o;parseFloat(o)===o&&(o=parseFloat(o))}catch(t){}if(null!==o&&""!==o)return o}const k=u(),I=a();function v(o,r){if(!o)return;const e=L(r),a=!A(e),l=O(e)?S(localStorage.getItem(o)):void 0;if(a&&!p(l))return l;const i=b(e)?S(n(o)):void 0;if(a&&i)return i;const c=t(o);return a?c:{localStorage:l,cookie:i,global:c}}function x(e,a,c){if(!e||p(a))return;const u={},f=L(c),g=JSON.stringify(a),m=!A(f);return O(f)&&(u[s]=h(s,a,S(localStorage.getItem(e))),localStorage.setItem(e,g),m)?u[s]:b(f)&&(u[l]=h(l,a,S(n(e))),i(e,g),m)?u[l]:(u[o]=h(o,a,t(e)),r(e,a),m?u[o]:u)}function C(t,r){if(!t)return;const a=L(r),n=v(t,m),i={};return!p(n.localStorage)&&O(a)&&(localStorage.removeItem(t),i[s]=n.localStorage),!p(n.cookie)&&b(a)&&(c(t),i[l]=n.cookie),!p(n.global)&&d(a,o)&&(e(t),i[o]=n.global),i}function L(t){return t?y(t)?t:t.storage:g}function O(t){return k&&d(t,s)}function b(t){return I&&d(t,l)}function A(t){return t===m||"all"===t}function d(t,o){return t===g||t===o||A(t)}function h(t,o,r){return{location:t,current:o,previous:r}}var N={setItem:x,getItem:v,removeItem:C};export default N;export{v as getItem,C as removeItem,x as setItem};
//# sourceMappingURL=analytics-util-storage.modern.js.map
