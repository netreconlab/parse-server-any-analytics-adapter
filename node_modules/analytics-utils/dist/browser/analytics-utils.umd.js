!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e||self).analyticUtil={})}(this,function(e){var n=function(e){var n={exports:{}};return function(e,n){e.exports=function(e,n,r,t,o){for(n=n.split?n.split("."):n,t=0;t<n.length;t++)e=e?e[n[t]]:o;return e===o?r:e}}(n),n.exports}();function r(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}"undefined"==typeof process||process;var t="undefined"!=typeof window;function o(e,n){return typeof n===e}"undefined"!=typeof Deno&&Deno,t&&"nodejs"===window.name||"undefined"!=typeof navigator&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),o.bind(null,"function");var i=o.bind(null,"string");function a(e){if(!t)return!1;var n=e||document.referrer;if(n){var r=window.document.location.port,o=n.split("/")[2];return r&&(o=o.replace(":"+r,"")),o!==window.location.hostname}return!1}function u(e,n){var r=(e.split("?")||[,])[1];if(!r||-1===r.indexOf(n))return e;var t=new RegExp("(\\&|\\?)"+n+'([_A-Za-z0-9"+=.\\/\\-@%]+)',"g"),o=("?"+r).replace(t,"").replace(/^&/,"?");return e.replace("?"+r,o)}function c(e){return function(e){for(var n,t=Object.create(null),o=/([^&=]+)=?([^&]*)/g;n=o.exec(e);){var i=r(n[1]),a=r(n[2]);"[]"===i.substring(i.length-2)?(t[i=i.substring(0,i.length-2)]||(t[i]=[])).push(a):t[i]=""===a||a}for(var u in t){var c=u.split("[");c.length>1&&(l(t,c.map(function(e){return e.replace(/[?[\]\\ ]/g,"")}),t[u]),delete t[u])}return t}(function(e){if(e){var n=e.match(/\?(.*)/);return n&&n[1]?n[1].split("#")[0]:""}return t&&window.location.search.substring(1)}(e))}function l(e,n,r){for(var t=n.length-1,o=0;o<t;++o){var i=n[o];if("__proto__"===i||"constructor"===i)break;i in e||(e[i]={}),e=e[i]}e[n[t]]=r}function s(e){if(!t)return null;var n=document.createElement("a");return n.setAttribute("href",e),n.hostname}function f(e){return(s(e)||"").split(".").slice(-2).join(".")}function d(e){var n=e.split(".");return n.length>1?n.slice(0,-1).join("."):e}o.bind(null,"undefined"),o.bind(null,"boolean");var m={trimTld:d,getDomainBase:f,getDomainHost:s},p="google",g="q",x={"daum.net":g,"eniro.se":"search_word","naver.com":"query","yahoo.com":"p","msn.com":g,"aol.com":g,"ask.com":g,"baidu.com":"wd","yandex.com":"text","rambler.ru":"words",google:g,"bing.com":{p:g,n:"live"}};e.decodeUri=r,e.dotProp=n,e.getBrowserLocale=function(){if(t){var e=navigator,n=e.languages;return e.userLanguage||(n&&n.length?n[0]:e.language)}},e.getTimeZone=function(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){}},e.isExternalReferrer=a,e.isScriptLoaded=function(e){if(!t)return!0;var n=document.getElementsByTagName("script");return!!Object.keys(n).filter(function(r){var t=n[r].src;return i(e)?-1!==t.indexOf(e):e instanceof RegExp&&t.match(e)}).length},e.paramsClean=u,e.paramsGet=function(e,n){return r((RegExp(e+"=(.+?)(&|$)").exec(n)||[,""])[1])},e.paramsParse=c,e.paramsRemove=function(e,n){return t?new Promise(function(r,t){if(window.history&&window.history.replaceState){var o=window.location.href,i=u(o,e);o!==i&&history.replaceState({},"",i)}return n&&n(),r()}):Promise.resolve()},e.parseReferrer=function(e,n){if(!t)return!1;var r={source:"(direct)",medium:"(none)",campaign:"(not set)"};e&&a(e)&&(r.referrer=e);var o=function(e){if(!e||!t)return!1;var n=f(e),r=document.createElement("a");if(r.href=e,r.hostname.indexOf(p)>-1&&(n=p),x[n]){var o=x[n],i=new RegExp(("string"==typeof o?o:o.p)+"=.*?([^&#]*|$)","gi"),u=r.search.match(i);return{source:o.n||d(n),medium:"organic",term:(u?u[0].split("=")[1]:"")||"(not provided)"}}var c=a(e)?"referral":"internal";return{source:r.hostname,medium:c}}(e);o&&Object.keys(o).length&&(r=Object.assign({},r,o));var i=c(n),u=Object.keys(i);if(!u.length)return r;var l=u.reduce(function(e,n){return n.match(/^utm_/)&&(e[""+n.replace(/^utm_/,"")]=i[n]),n.match(/^(d|g)clid/)&&(e.source=p,e.medium=i.gclid?"cpc":"cpm",e[n]=i[n]),e},{});return Object.assign({},r,l)},e.throttle=function(e,n){var r,t,o,i=null,a=0,u=function(){a=new Date,i=null,o=e.apply(r,t)};return function(){var c=new Date;a||(a=c);var l=n-(c-a);return r=this,t=arguments,l<=0?(clearTimeout(i),i=null,a=c,o=e.apply(r,t)):i||(i=setTimeout(u,l)),o}},e.url=m,e.uuid=function(){for(var e="",n=0,r=4294967295*Math.random()|0;n++<36;){var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx"[n-1],o=15&r;e+="-"==t||"4"==t?t:("x"==t?o:3&o|8).toString(16),r=n%8==0?4294967295*Math.random()|0:r>>4}return e}});
//# sourceMappingURL=analytics-utils.umd.js.map
